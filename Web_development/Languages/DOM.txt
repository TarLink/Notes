
         
   DOM   
         


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:            GENERAL            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


VERSION ==>                                     #4

TYPES ==>                                       #  - DOM (Document Object Model): WINDOW.document.*
                                                #  - BOM (Browser Object Model): browser elements, i.e. frames, history, location, window
                                                #  - Web APIs: Usually on WINDOW, e.g. WebSocket, BatteryManager, SessionStorage, etc.

STANDARD ==>                                    #W3C for most
                                                #But WHATWG (fork) has HTML and CSS specs, and few Web APIs

XML ==>                                         #This doc doesn't include objects, etc. related to XML: check XML doc.

INTEROPERABILITY ==>                            #See HTML doc for list of browsers

SUMMARY ==>                                     #Basic:
                                                #  - HTML: integrating with HTML
                                                #Utilities:
                                                #  - Utilities
                                                #  - Timeouts: setTimeout(), requestAnimationFrame(), etc.
                                                #  - console
                                                #  - performance: initial network, document loading performance
                                                #Events:
                                                #  - Events
                                                #  - UIEvent
                                                #  - Mouse/touch events
                                                #  - Load events
                                                #Document:
                                                #  - Top-level: WINDOW, DOCUMENT
                                                #  - query
                                                #  - iteration: crawling
                                                #  - test: between two NODE
                                                #  - creation
                                                #  - manipulation
                                                #  - observing
                                                #  - content
                                                #  - attr/text/comment
                                                #  - range/selection
                                                #Layout:
                                                #  - dimensions
                                                #  - position
                                                #  - scrolling
                                                #Browsing:
                                                #  - location
                                                #  - history
                                                #Browser/device:
                                                #  - platform
                                                #  - geolocation
                                                #  - orientation/motion
                                                #Networking:
                                                #  - offline
                                                #  - HTTP headers
                                                #  - XHR
                                                #  - websocket
                                                #Storage:
                                                #  - files
                                                #  - storage: localStorage, sessionStorage
                                                #  - storage summary
                                                #Messaging/workers:
                                                #  - messaging
                                                #  - workers
                                                #UI components:
                                                #  - popup
                                                #  - drag&drop
                                                #  - RTF


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:             HTML              :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


INCLUDING IN HTML ==>                           #Priority is from top to bottom

<script>                                        #Loaded right away, sync (in same thread)
  src="FILE.js"                                 #From external file.
  type="STR"                                    #MIME type. Def: 'text/javascript'
  async                                         #Loaded right away, async (in a different thread)
                                                #"src" mandatory, not compatible with defer.
  defer                                         #Loaded on DOMContentLoaded, sync (in same thread)
                                                #"src" mandatory, not compatible with async.
  SCRIPT.text                                   #Like SCRIPT.textContent
DOCUMENT.scripts                                #SCRIPT_HTMLCOLLECTION

<script>CODE</script>                           #Inline.

<a|area>
  href="JavaScript:CODE"                        #
<any> 
  onEVENT="CODE"                                #Deprecated. EVENT lowercase.

<noscript>...</noscript>                        #When JavaScript not available.



               
   UTILITIES   
               



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           UTITILIES           :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


DOMError                                        #
DOMERROR.name                                   #STR

DOMException                                    #
DOMEXCEPTION.name                               #

WINDOW.btoa|atob(STR)                           #Convert to|from Base64


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           TIMEOUTS            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


WINDOW.setTimeout(FUNC(), DOUBLE[, ...])->UINT  #Browsers actually enforce:
                                                #  - 4ms minimum
                                                #  - 1 FUNC per second on inactive tabs
WINDOW.clearTimeout(UINT)                       #
WINDOW.setInterval(FUNC(), DOUBLE[, ...])->UINT #
WINDOW.clearInterval(UINT)                      #

WINDOW.requestAnimationFrame(FUNC(FLOAT))->ID   #Fire FUNC:
                                                #  - before screen refresh
                                                #     - usually 60 times/sec, but can be lower in inactive tabs
                                                #     - this avoids changing UI several times while screen is not refreshing
                                                #       (optimized and smoother results)
                                                #  - once, so must be done again at end of FUNC
                                                #  - FLOAT is PERFORMANCE.now() when current frame started
                                               ##Ext: webkit
WINDOW.cancelAnimationFrame(ID)                ##Ext: webkit


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:            CONSOLE            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/ 

WINDOW.console                                  #CONSOLE

CONSOLE.info|log|warn|error(VAL...)             #Can use format strings:
                                                #  - %d, %i: NUM  
                                                #  - %f: DOUBLE
                                                #  - %s: STR
                                                #Not IE11:
                                                #  - %o: hyperlink
                                                #  - %c: CSS "PROP:VAL;..."
CONSOLE.dir(OBJ|ELEM)                           #Prints with accordion arrows
                                                #ELEM will be printed as a JavaScript object, as opposed to HTML representation.
CONSOLE.dirxml(...)                             #Inverse

CONSOLE.assert(BOOL, ...)                       #If false, like console.error(...), except cannot use format strings
CONSOLE.count(STR)                              #Increments a NUM for a given STR, then console.debug('STR: NUM')

CONSOLE.group[Collapsed]()                      #Starts dropdown (if Collapsed: closed at start), incrementing level
CONSOLE.groupEnd()                              #Stops dropdown, decrementing level

CONSOLE.trace()                                 #Prints current stack.

CONSOLE.profile[End]([STR])                     #Start CPU profile (like clicking on 'Start' in devtools)
                                                #Def STR for profileEnd(): the most recent one.


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:          PERFORMANCE          :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


CONSOLE.time[End](STR)                          #Does console.debug('STR: DOUBLEms') (microseconds-precise)


WINDOW|WORKERGLOBAL.performance                 #PERFORMANCE

PERFORMANCE.now()->DOUBLE                       #Number of DOUBLE ms (decimals 5-microseconds-precise) since PERFORMANCETIMING.navigationStart
                                                #I.e. not affected by clock OS (as opposed to new Date())

PERFORMANCE.navigation                          #PERFORMANCENAVIGATION
PERFORMANCENAVIGATION.type                      #How page started.
                                                #Can be PerformanceNavigation.TYPE_*:
                                                #  - NAVIGATE: normal navigation
                                                #  - RELOAD: page reloaded
                                                #  - BACK_FORWARD: using history
                                                #  - RESERVED: any other
PERFORMANCENAVIGATION.redirectCount             #Number of redirections 3** that happened

PERFORMANCE.timing                              #PERFORMANCETIMING
                                                #All properties are Unix timestamps in ms
                                                #They are in order

PERFORMANCETIMING.navigationStart               #First event
PERFORMANCETIMING.unloadEventStart|End          #Previous page unload event

PERFORMANCETIMING.redirectStart|End             #HTTP redirections (0 if none)
PERFORMANCETIMING.fetchStart                    #Is going to do HTTP main request
PERFORMANCETIMING.domainLookupStart|End         #DNS request (same as fetchStart if cached, local request or kept TCP socket (e.g. keep-alive))
PERFORMANCETIMING.connectStart|End              #TCP handshake (same as fetchStart if kept TCP socket)
PERFORMANCETIMING.secureConnectionStart         #TLS handshake (0 if none). End is connectEnd
PERFORMANCETIMING.requestStart                  #HTTP main request
PERFORMANCETIMING.responseStart|End             #HTTP main response

PERFORMANCETIMING.domLoading                    #DOCUMENT.readyState 'loading'
PERFORMANCETIMING.domInteractive                #DOCUMENT.readyState 'interactive'
PERFORMANCETIMING.domContentLoadedEventStart|End#DOCUMENT DOMContentLoaded event
PERFORMANCETIMING.domComplete                   #DOCUMENT.readyState 'complete'
PERFORMANCETIMING.loadEventStart|End            #DOCUMENT load event



            
   EVENTS   
            



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:            EVENTS             :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


EventTarget                                     #Parent of any object that has events (not noted in this doc)
EVENTTARGET.add|removeEventListener             #BOOL: false (def) is bubbling, true is capturing.
('event', FUNC(EVENT)[, BOOL])                  #addEventListener() does not add twice same FUNC
<any onEVENT="CODE">                            #Same but:
EVENTTARGET.onEVENT = FUNC(EVENT)               #  - can only register one handler 
                                                #  - dispatchEvent() does not work
                                                #  - kept by cloneNode()
EVENTTARGET.dispatchEvent(EVENT)->BOOL          #Returns true if defaultPrevented.


Event                                           #
EVENT.type                                      #'click|mouseover|...'
EVENT.eventPhase                                #Event handlers are fired in that order:
                                                #  - Event.CAPTURING_PHASE: capturing handlers, from outermost to target
                                                #  - Event.AT_TARGET:       target
                                                #  - Event.BUBBLING_PHASE:  bubbling handlers (def), from target to outermost, providing EVENT.bubbles true
EVENT.bubbles                                   #True for:
                                                #  - UI events:
                                                #     - except select, resize, scroll
                                                #     - focus|blur does not bubble, but focusin|out fixes it
                                                #     - mouse|pointerover|out does bubble (should not), but mouse|pointerleave|enter fixes it
                                                #  - UI-related events:
                                                #     - fullscreen*, selectstart, SVG* (except SVG[Un]Load), visibilitychange
                                                #     - transitionend
                                                #  - location-related events:
                                                #     - DOMContentLoaded, hashchange, popstate
                                                #  - resourcetimingbufferfull
EVENT.currentTarget                             #The current EVENTTARGET (=== this in event handler)
EVENT.target                                    #The original EVENTTARGET

EVENT.cancelable                                #True for:
                                                #  - bubbling UI events, except:
                                                #     - end|abort-related: abort, dragend|leave, pointer|touchcancel, pointerlockchange|error
                                                #     - input, change
                                                #     - animation*
                                                #  - selectstart, transitionend, resourcetimingbufferfull
                                                #  - reset, beforeunload, invalid
EVENT.preventDefault()                          #Cancel browser default handler (but not user handlers), providing cancelable true
EVENT.defaultPrevented                          #preventDefault() has been called

EVENT.stopImmediatePropagation()                #Do not call any further user handlers
EVENT.stopPropagation()                         #Same, except for currentTarget's ones

EVENT.timeStamp                                 #DATE_NUM (Epoch in ms)


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:            UIEVENT            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


UIEvent                                         #Child of EVENT
UIEVENT.view                                    #WINDOW

FOCUSABLE                                       #Is A|AREA|BUTTON|INPUT|TEXTAREA|CONTENTEDITABLE|SELECT|WINDOW
FOCUSABLE.onfocus|blur = FUNC(FOCUSEVENT)       #Gains|loses focus. Can sometimes fire twice.
FOCUSABLE.onfocusin|out = FUNC(FOCUSEVENT)      #Like focus|blur, but bubbles.
FOCUSABLE.focus|blur()                          #Emit those events
HTMLDOCUMENT.activeElement                      #Currently focused ELEM. If none, BODY.
                                                #Readonly.
DOCUMENT.hasFocus()->BOOL                       #

FocusEvent                                      #UIEVENT child, for focus*|blur


INPUT|TEXTAREA.oninput = FUNC(EVENT)            #Control value just changed.
INPUT|TEXTAREA|SELECT.onchange = FUNC(EVENT)    #SELECT: control value changes.
                                                #INPUT|TEXTAREA: blur + value changed since focus


DOCUMENT|FOCUSABLE.onkeydown = FUNC(KEYBOARDEVT)#When key is down (repeats).
DOCUMENT|FOCUSABLE.onkeyup = FUNC(KEYBOARDEVENT)#When key is not down anymore (only once).

KeyboardEvent                                   #UIEVENT child
                                                #Modifier keys launch event themselves.
                                                #There is no attribute for getting the key value that is crossbrowser.
KEYBOARDEVENT.ctrl|shift|alt|metaKey            #True if pressed while keyboard event
KEYBOARDEVENT.location                          #Can be KeyboardEvent.DOM_KEY_LOCATION_*:
                                                #  - STANDARD (def)
                                                #  - LEFT|RIGHT: where key present several times on keyboard (e.g. Ctrl)
                                                #  - NUMPAD: key is on numpad


ALL.onscroll = FUNC(EVENT)                      #When scrolling happens.
WINDOW.onresize = FUNC(EVENT)                   #When resizing window.


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:      MOUSE/TOUCH EVENTS       :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


SUMMARY ==>                                     #In order:
                                                #                     +--------------+--------------+--------------+
                                                #                     | mouse        | tap          | hold         |
                                                #   +-----------------+--------------+--------------+--------------+
                                                #   | touchstart      |              | y            | y            |
                                                #   | touchmove       |              | y            |              |
                                                #   |                 |              | might scroll |              |
                                                #   | touchend        |              | y            |              |
                                                #   | touchcancel     |              |              | y            |
                                                #   +-----------------+--------------+--------------+--------------+
                                                #   | mouseover|enter | y            | session      | session      |
                                                #   | mouseout|leave  | y            | session      | session      |
                                                #   | mousemove       | y            | once         | once         |
                                                #   | mousedown       | y            | y            | y            |
                                                #   | mouseup         | y            | y            |              |
                                                #   | click           | y            | y            |              |
                                                #   | dblclick        | y            | zoom         |              |
                                                #   | contextmenu     | y            |              | y            |
                                                #   | wheel           | y            |              |              |
                                                #   +-----------------+--------------+--------------+--------------+


ALL                                             #Is ELEM|DOCUMENT|WINDOW
ALL.onclick = FUNC(MOUSEEVENT)                  #Left click down then up on same element. Fired after mouseup.
HTMLELEM.click()                                #
ALL.oncontextmenu = FUNC(MOUSEEVENT)            #Same for right click.
ALL.ondblclick = FUNC(MOUSEEVENT)               #Same for double left click.
ALL.onmousedown|up = FUNC(MOUSEEVENT)           #Any mouse button down|up (only once).
ALL.onmousemove = FUNC(MOUSEEVENT)              #While moves (repeats).
                                                #Should use requestAnimationFrame() to avoid wasting resources.

ALL.onmouseover|out = FUNC(MOUSEEVENT)          #When enter|leaves (only once)
                                                #Bubbles, which means that anytime the mouse enters/leaves a child element, 
                                                #it is fired again: prefer mouseenter|leave.
ALL.onmouseenter|leave = FUNC(MOUSEEVENT)       #Same but doesn't bubble

MouseEvent                                      #UIEVENT child
MOUSEEVENT.screenX|Y                            #According to screen
MOUSEEVENT.clientX|Y                            #According to page (without scrolling)
MOUSEEVENT.pageX|Y                              #According to page (with scrolling)
MOUSEEVENT.offsetX|Y                            #Offset to border-box top-left corner
MOUSEEVENT.ctrl|shift|alt|metaKey               #True if pressed while mouse event
MOUSEEVENT.button                               #0|1|2 if left|middle|right click while mouse event
MOUSEEVENT.detail                               #Number of clicks.
                                                #  - only for [dbl]click, mousedown|up


WINDOW|DOCUMENT|ELEM.onwheel = FUNC(WHEELEVENT) #
WHEELEVENT                                      #Child of MOUSEEVENT 
WHEELEVENT.deltaX|Y|Z                           #Amount scrolled as DOUBLE
WHEELEVENT.deltaMode                            #Whether deltaX|Y|Z is in WheelEvent.DOM_DELTA_PIXEL|LINE|PAGE


TOUCH EVENTS ==>                                #Only:
                                                #  - touch screens (which can be a touchscreen PC)
                                                #  - implemented by Chrome/Opera on desktop
                                                #Emulation concepts:
                                                #  - tap -> like left click
                                                #  - hold -> like right click
                                                #  - mouse hovering sessions:
                                                #     - tapping somewhere -> like keeping mouse hovered until next tap
                                                #        - fire mouseover|enter once the first time, 
                                                #          then mouseout|leave once when exits
                                                #        - mousemove fired only once, at each tap
                                                #     - touchmove: more of a gesture|swipe session than hovering
                                                #Touch user interaction:
                                                #  - double tap: zoom
                                                #  - touchmove: might scroll
                                                #Mouse events are fired in addition after touch events:
                                                #  - unless preventDefault() fired during touch events
                                                #  - unless zooming|scrolling
                                                #  - with 300ms delay:
                                                #     - allow waiting for double tap
                                                #     - can be disabled with <meta name="viewport"> (see HTML doc)
                                                #Warning:
                                                #  - finger less precise than mouse
                                                #  - should keep touch event handlers limited in number and space, cause it can flicker scrolling

DOCUMENT|ELEM.ontouchstart = FUNC(TOUCHEVENT)   #Like mousedown but for touch, except:
                                                #  - preventDefault() prevents scrolling, zooming
DOCUMENT|ELEM.ontouchend = FUNC(TOUCHEVENT)     #Like mouseup but for touch
DOCUMENT|ELEM.ontouchcancel = FUNC(TOUCHEVENT)  #Fired when touch stops but not because of touchend:
                                                #  - holding sometimes triggers contextmenu
                                                #  - going beyong screen borders
                                                #  - too many fingers on screen
DOCUMENT|ELEM.ontouchmove = FUNC(TOUCHEVENT)    #Like mousemove but for touch, except:
                                                #  - more of a gesture|swipe session than hovering, i.e. only cares about DOM when move starts:
                                                #     - target remains the same during the whole move
                                                #     - move stops when touchend|touchcancel, not when not hovering anymore
                                                #  - preventDefault() prevents scrolling:
                                                #     - only on the first touchmove event

TOUCHEVENT.alt|ctrl|meta|shiftKey               #Like MOUSEEVENT
TOUCHEVENT.changedTouches                       #TOUCHLIST: that actually triggered the TOUCHEVENT
TOUCHEVENT.targetTouches                        #TOUCHLIST: any with TOUCH.target === TOUCHEVENT.target
TOUCHEVENT.touches                              #TOUCHLIST: any related or not to current TOUCHEVENT

TOUCHLIST                                       #TOUCH_ARR-like
                                                #On touchend|touchcancel, that touch is not available anymore
TOUCH.identifier                                #ID_NUM
TOUCH.target                                    #
TOUCH.screen|client|pageX|Y                     #Like MOUSEEVENT


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:          LOAD EVENTS          :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


DOCUMENT.onDOMContentLoaded = FUNC(EVENT)       #When page parsed
WINDOW.onload = FUNC(UIEVENT)                   #When resources done loading
DOCUMENT.readyState                             #Can be:
                                                #  - "loading": first
                                                #  - "interactive": after DOMContentLoaded
                                                #  - "complete": after load
DOCUMENT.onreadystatechange = FUNC(EVENT)       #When DOCUMENT.readyState changes
WINDOW.onbeforeunload = FUNC(EVENT)             #Just before unload.
                                                #If EVENT.returnValue STR + return STR (for crossbrowser):
                                                #  - does WINDOW.confirm(STR) first
                                                #  - not supported by Mobile Safari
                                                #  - only if page has been interacted with.
WINDOW.onunload = FUNC(UIEVENT)                 #On closing page.
                                                #DOM is still available but invisible to the user.

WINDOW|DOCUMENT.onpageshow|hide =               #
FUNC(PAGETRANSITIONEVENT)                       #Like [un]load, except also fired when loaded from history cache.
PAGETRANSITIONEVENT.persisted                   #True when loaded from history cache.

RESOURCE                                        #Any external|embedded resource: 
                                                #  - <script>, <style>, <link> (including prefetching)
                                                #  - <img>, <input type="image">, <video>, <audio>, <iframe>, <svg>, <object>
                                                #Also <body>
RESOURCE.onload = FUNC(UIEVENT)                 #When done loading
RESOURCE.onerror = FUNC(UIEVENT)                #
RESOURCE.onabort = FUNC(UIEVENT)                #When starts loading but stops.


VISIBILITY ==>                                 ##Ext: webkit

DOCUMENT.visibilityState                        #Can be:
                                                #  - 'hidden': not current tab, window is minimized or OS screen is locked
                                                #  - 'prerender': e.g. using <link rel="prerender">
                                                #  - 'visible'
                                                #  - 'unloaded': after 'unload' is fired. Not supported by all browsers.
DOCUMENT.hidden                                 #BOOL. True if visibilityState is 'prerender' or 'hidden'
DOCUMENT.onvisibilitychange = FUNC(EVENT)       #When DOCUMENT.visibilityState changes



              
   DOCUMENT   
              



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           TOP-LEVEL           :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


Window                                          #
Document                                        #NODE child, parent of HTML. 
HTMLDocument                                    #DOCUMENT child
DocumentType                                    #See HTML doc

WINDOW.window                                   #Same as WINDOW
WINDOW.document                                 #DOCUMENT
DOCUMENT.defaultView                            #WINDOW|null. Readonly

DOCUMENT.doctype                                #
DOCUMENT.documentElement                        #
HTMLDOCUMENT.body                               #
HTMLDOCUMENT.head                               #See HTML doc

HTMLDOCUMENT.title                              #
HTMLDOCUMENT.scripts                            #
HTMLDOCUMENT.images                             #
HTMLDOCUMENT.links                              #
HTMLDOCUMENT.forms                              #See HTML doc

WINDOW.status                                   #Status bar text. Not always available.


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:             QUERY             :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


Node                                            #Parent of ELEM, DOCUMENT, CHARDATA, DOCUMENTTYPE, DOCUMENTFRAG
                                                #Note: any whitespace between two ELEM is a CHARDATA
Element                                         #NODE being an HTML|SVG element
HTMLElement                                     #
HTMLUnknownElement                              #Cf doc HTML
NodeList                                        #Similar to HTMLCOLLECTION but for NODE

DOCUMNT|HTMLELEM.getElementsByClassName('CLASS')#HTMLCOLLECTION
DOCUMENT.getElementsByName('NAME')              #HTMLCOLLECTION
DOCUMENT|ELEM.getElementsByTagName('tag|*')     #HTMLCOLLECTION|ELEM_ARR
DOCUMENT.getElementById('ID')                   #ELEM|null
DOCUMENT|ELEM|DOCUMENTFRAG.
querySelector('CSS_SELECTOR')                   #NODE|ELEM|null. Cannot use pseudo-element
DOCUMENT|ELEM|DOCUMENTFRAG.
querySelectorAll('CSS_SELECTOR')                #NODELIST|ELEM_ARR

NODE|HTMLELEM.childNodes|children               #NODELIST|HTMLCOLLECTION. Readonly.
ELEM.childElementCount                          #children.length
NODE.hasChildNodes()->BOOL                      #
NODE|ELEM.first|last[Element]Child              #NODE|ELEM|null. Readonly.
NODE|ELEM.previous|next[Element]Sibling         #NODE|ELEM|null. Readonly.
NODE|HTMLELEM.parentNode|Element                #NODE|ELEM|null. Readonly.
                                                #null for:
                                                #  - NODE|HTMLELEM: root NODE, i.e. DOCUMENT or root NODE not attached in DOM
                                                #  - HTMLELEM: root HTMLELEM, i.e. HTML
NODE.ownerDocument                              #DOCUMENT|null. Readonly. 
                                                #null for DOCUMENT


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           ITERATION           :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


DOCUMENT.createNodeIterator
(NODE[, ENUM[, OBJ]])->NODEITERATOR             #Arguments are root, whatToShow (def: null), filter(NODE)->NodeFilter.FILTER_ACCEPT|REJECT
NodeIterator                                    #
NODEITERATOR.root                               #NODE. Iterate over its children
NODEITERATOR.whatToShow                         #or'd ENUM: NodeFilter.SHOW_ALL|ELEM|ATTRIBUTE|TEXT|COMMENT|
                                                #DOCUMENT|DOCUMENT_TYPE|DOCUMENT_FRAGMENT
NODEITERATOR.filter                             #
NODEITERATOR.next|previousNode()->NODE|null     #
NODEITERATOR.detach()                           #Removes


DOCUMENT.createTreeWalker
(NODE[, ENUM[, OBJ]])->TREEWALKER               #
TreeWalker                                      #Like NodeIterator but can iterate recursively over children
TREEWALKER.filter                               #Can also return NodeFilter.FILTER_SKIP, which rejects parent but not children
TREEWALKER.root                                 #
TREEWALKER.whatToShow                           #
TREEWALKER.next|previousNode()                  #Like NODEITERATOR

TREEWALKER.currentNode                          #NODE
TREEWALKER.parentNode()->NODE|null              #
TREEWALKER.first|lastChild()->NODE|null         #
TREEWALKER.previous|nextSibling()->NODE|null    #Also moves cursor



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:             TEST              :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


NODE.isEqualNode(NODE2)->BOOL                   #NODE.outerHTML === NODE2.outerHTML
HTMLELEM.contains(HTMLELEM2)->BOOL              #Is child or same
NODE.compareDocumentPosition(NODE2)->NUM        #Returns or'd bitmask of relation of NODE2 to NODE:
                                                #  - DOCUMENT_POSITION_CONTAINS|CONTAINED_BY
                                                #  - DOCUMENT_POSITION_PRECEDING|FOLLOWING: of start tag, i.e. if contains, precedes
                                                #  - DOCUMENT_DISCONNECTED: not same DOCUMENT
                                                #None (i.e. 0) means NODE === NODE2


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           CREATION            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


DOCUMENT.implementation                         #DOMIMPL

DOMIMPL.createHTMLDocument(['TITLE'])->HTML     #
DOCUMENT.createElement('TAG')->ELEM             #
DOCUMENT.createTextNode(STR)->TEXT              #
DOCUMENT.createComment(STR)->COMMENT            #
DOCUMENT.createAttribute('ATTR')->ATTR          #

new DOMParser()                                 #
DOMPARSER.parseFromString('HTML', 'text/html')
->HTMLDOCUMENT                                  #
DOMPARSER.parseFromString('SVG','image/svg+xml')
->XMLDOCUMENT                                   #

RANGE.createContextualFragment('HTML')
->DOCUMENTFRAG                                  #'HTML' is content. DOCUMENTFRAG.ownerDocument is taken from RANGE.


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:         MANIPULATION          :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


SAME DOCUMENT ==>                               #Required for all methods except importNode|adoptNode()

NODE.insertBefore(NODE2, NODE3)->NODE2          #Insert NODE2 as NODE child, before sibling NODE3 (if null, put as last child).
NODE.appendChild(NODE2)->NODE2                  #Same as NODE.insertBefore(NODE2, null)
NODE.removeChild(NODE3)->NODE3                  #
NODE.replaceChild(NODE2, NODE3)->NODE3          #Same as NODE.insertBefore(NODE2, NODE3) + NODE.removeChild(NODE3)
NODE.cloneNode([BOOL])->NODE2                   #NODE2 is not attached to DOM.
                                                #Does not keep:
                                                #  - children, unless BOOL true
                                                #  - event listeners (except <any onevent>)
DOCUMENT.importNode(NODE[, BOOL])->NODE2        #Same but NODE does not have to be in current DOCUMENT
DOCUMENT.adoptNode(NODE)->NODE2                 #Same as DOCUMENT.importNode(NODE, true) but then remove NODE


																						 /=+===============================+=\ 
																						/  :                               :  \  
							 														  )==:           OBSERVING           :==(   
																						\  :_______________________________:  /    
																						 \=+===============================+=/


                                               ##Ext: webkit (Safari)
new MutationObserver                            #FUNC is listener aggregator:
(FUNC(RECORD_ARR, OBSERVER))                    #  - each RECORD represents a listener added by OBSERVER.observe()
                                                #RECORD:
                                                #  - NODE2 insertion|removal:
                                                #     - type 'childList'
                                                #     - target NODE: NODE2's parent
                                                #     - added|removedNodes NODELIST|null
                                                #     - previous|nextSibling NODE|null
                                                #  - CHARDATA modification:
                                                #     - type 'characterData'
                                                #     - target CHARDATA
                                                #     - oldValue STR
                                                #  - ELEM's attributes insertion|removal|modification:
                                                #     - type 'attributes'
                                                #     - target ELEM
                                                #     - attributeName[space] STR
                                                #     - oldValue STR
OBSERVER.observe(NODE, OBJ)                     #OBJ:
                                                #  - childList|characterData|attributes BOOL (def: false): at least one must be true
                                                #  - attribute|characterDataOldValue BOOL (def: false): populate RECORD.oldValue
                                                #  - attributesFilter 'ATTR'_ARR: only observe those attributes
                                                #  - subtree BOOL (def: false): include descendants
OBSERVER.takeRecords()->RECORD_ARR              #OBSERVERS's FUNC is always fired after DOM events
                                                #So must call this to get access to pending RECORD_ARR in a DOM event handler
                                                #This empties RECORD_ARR
OBSERVER.disconnect()                           #


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:            CONTENT            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


DOCUMENT.compatMode                             #
DOCUMENT.characterSet                           #See HTML doc


NODE.nodeType                                   #Among DOCUMENT.DOCUMENT[_TYPE|FRAGMENT]|ELEM|TEXT|COMMENT_NODE
                                                #Readonly.
NODE.nodeName                                   #For ELEM: ELEM.tagName
                                                #For DOCUMENTTYPE: DOCUMENTTYPE.name
                                                #Others: '#comment|text|document[-fragment]'
                                                #Readonly.
ELEM.tagName                                    #'TAG|tag'


HTMLELEM.inner|outerHTML                        #'HTML', with[out] ELEM itself
                                                #Can lead to XSS attacks, so prefer textContent if only TEXT.
HTMLELEM.insertAdjacentHTML
('before|afterbegin|end', 'HTML')               #Inserts 'HTML' inside ELEM next to its start|end tag.

NODE.textContent                                #Children TEXT concatenated as STR.
                                                #DOCUMENT: null
NODE.nodeValue                                  #For CHARDATA: NODE.textContent
                                                #Others: null
NODE.normalize()                                #Erase empty TEXT, and join adjacent TEXT.

DOCUMENT.open()                                 #Remove all 'HTML'
DOCUMENT.write[ln]('HTML')                      #Append 'HTML' (with newline if "ln") to BODY
                                                #Fires HTMLDOCUMENT.open() first
DOCUMENT.close()                                #To be invoked after HTMLDOCUMENT.write*()


ELEM.ATTR                                       #
ELEM.attributes                                 #
ELEM.getAttribute[Node]('ATTR')->'VAL'|ATTR     #
ELEM.setAttribute[Node]('ATTR', 'VAL'|ATTR)     #
ELEM.hasAttribute('ATTR')->BOOL                 #
ELEM.hasAttributes()->BOOL                      #
ELEM.removeAttribute[Node]('ATTR'|ATTR)[->ATTR] #See HTML doc


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:       ATTR/TEXT/COMMENT       :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/



Attr                                            #NODE child. HTML attribute
ATTR.name                                       #'ATTR'
ATTR.value                                      #'VAL'

CharacterData                                   #NODE child. TEXT|COMMENT parent
CHARDATA.data                                   #STR
CHARDATA.length                                 #NUM
CHARDATA.appendData(STR)                        #
CHARDATA.insertData(UINT, STR)                  #
CHARDATA.substringData(UINT, UINT2)->STR        #
CHARDATA.deleteData(UINT, UINT2)                #
CHARDATA.replaceData(UINT, UINT2, STR)          #

Text                                            #CHARDATA child. ELEM's text content
TEXT.wholeText                                  #TEXT and its sibling TEXT2 as a single STR
TEXT.splitText(UINT)                            #Split into two TEXT at position UINT

Comment                                         #CHARDATA child. HTML comment


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:       RANGE / SELECTION       :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/
  

Range                                           #NODE or parts of NODE following each other.
DOCUMENT.createRange()->RANGE                   #
DocumentFragment                                #NODE child. Several NODE or parts of NODE not attached to DOM
DOCUMENT.createDocumentFragment()->DOCUMENTFRAG #

RANGE.start|endContainer                        #NODE
RANGE.start|endOffset                           #Offset after|before start|endContainer:
                                                #  - if start|endContainer CHARDATA, in UCHAR
                                                #  - otherwise in NODE
                                                #Readonly.
RANGE.setStart|End(NODE, UINT)                  #
RANGE.setStart|EndBefore|After(NODE)            #
RANGE.selectNode[Contents](NODE)                #Set start|endContainer|offset so it selects NODE (if 'Contents', its children)
RANGE.collapsed                                 #startContainer === endContainer
RANGE.collapse([BOOL])                          #Collapse to startContainer (BOOL true) or endContainer.

RANGE.commonAncestorContainer                   #Deepest NODE containing both startContainer and endContainer
RANGE.compareBoundaryPoints(ENUM,RANGE2)->-1|0|1#According to ENUM Range.END|START_TO_END|START

RANGE.insertNode(NODE)                          #At RANGE start
RANGE.surroundContents(NODE)                    #Wraps with NODE.
                                                #NODE must have no children.
                                                #RANGE boundaries cannot be inside a CHARDATA.
RANGE.cloneContents()->DOCUMENTFRAG             #Like NODE.cloneNode()
RANGE.deleteContents()                          #
RANGE.extractContents()->DOCUMENTFRAG           #Like cloneContents() + deleteContents()
RANGE.toString()                                #Gets textContent

RANGE.cloneRange()->RANGE2                      #


DOCUMENT|ELEM.onselectstart = FUNC(EVENT)       #When selection starts, i.e. on new anchorNode, even collapsed
DOCUMENT.onselectionchange = FUNC(EVENT)        #When selection starts|changes, i.e. on new anchorNode or focusNode
TEXTAREA|INPUT.onselect = FUNC(UIEVENT)         #When selection ends (of text inside)

TEXTAREA|INPUT.selectionEnd|Start               #start|end indexes UINT
TEXTAREA|INPUT.setSelectionRange(NUM,NUM2[,STR])#With start NUM, end NUM2, selectionDirection 'none' (def) or 'forward|backward'
TEXTAREA|INPUT.select()                         #Emit select event


WINDOW.getSelection()->SELECTION                #
Selection                                       #User selection, containing one or more RANGE.
SELECTION.anchor|focusNode                      #Like RANGE.start|endContainer
SELECTION.anchor|focusOffset                    #Like RANGE.start|endOffset
SELECTION.isCollapsed                           #Like RANGE.collapsed
SELECTION.collapseToStart|End()                 #Like RANGE.collapse()
SELECTION.collapse(NODE, UINT)                  #Like RANGE.setEnd() + RANGE.collapse()
SELECTION.selectAllChildren(NODE)               #Like RANGE.setNodeContents()
SELECTION.toString()                            #Like RANGE.toString()

SELECTION.rangeCount                            #length (0 if none). Always 1 in current browsers (no multiple selections).
SELECTION.getRangeAt(UINT)->RANGE               #
SELECTION.addRange(RANGE)                       #Only works if RANGE includes a SELECTION's RANGE2, which will merge (so does nothing)
SELECTION.removeRange(RANGE)                    #
SELECTION.removeAllRanges()                     #

SELECTION.deleteFromDocument()                  #Erase all TEXT's content (not parent node, but potentially children)



            
   LAYOUT   
            



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:          DIMENSIONS           :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


WINDOW.screen                                   #SCREEN
WINDOW.screenX|Y                                #Distance between real screen topleft corner and browser window topleft corner.
SCREEN.width|height                             #Real screen size.
                                                #IE: takes zoom into account
SCREEN.availWidth|Height                        #SCREEN.width|height minus OS's UI
WINDOW.outer|innerHeight|Width                  #Browser tab size, including|excluding browser UI (which does not include scrollbar)


SCROLLING HEIGHT|WIDTH ==>                      #Unless specified, if scrollable, counts only visible part (including scrollbar)
                                                #'scrollable':
                                                #  - means scrolling on the given element, not a parent
                                                #  - i.e. only HTML|BODY are 'scrollable' according to top-level scroll
                                                #HTML|BODY:
                                                #  - if scrollable, includes invisible part
                                                #  - width fits whole viewport
                                                #  - height:
                                                #     - generally fits content
                                                #     - but first whole viewport with HTML.clientHeight and BODY.scrollHeight

JQ.outerHeight|Width(true)                     ##Margin-box
HTMLELEM.offsetHeight|Width                     #Border-box (readonly)
JQ.outerHeight|Width(false)                    ##Border-box
JQ.innerHeight|Width()                         ##Padding-box
ELEM.clientHeight|Width                         #Padding-box (display BLOCK only) (readonly) (if scrollable: exclude scrollbar)
ELEM.scrollHeight|Width                         #Padding-box (display BLOCK only) (readonly) (if scrollable: exclude scrollbar, includes invisible part)
JQ.css('height|width'[, VAL|FUNC])             ##Content-box
JQ.height|width([VAL|FUNC])                    ##Content-box
                                               ##Same as JS.css('height|width') but:
                                               ##  - return NUM instead of STR
                                               ##  - doesn't take box-sizing into account
ELEM.clientTop|Left                             #Top|Left border-width (display BLOCK only) (readonly)


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           POSITION            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


ELEM|RANGE.getClientRects()->OBJ_ARR            #Returns all border-boxes as OBJ:
                                                #  - top|bottom|left|right: offset compared to viewport's top-left corner (i.e. affected by scrolling)
                                                #  - width|height
                                                #I.e. inline elements have one border-box for each line.
                                                #Readonly
ELEM|RANGE.getBoundingClientRect()->OBJ         #Same but using union of all getClientRects()
JQ.offset([OBJ2|FUNC])->OBJ                    ##Same as getBoundingClientRect() but:
                                               ##  - OBJ only: left|right
                                               ##  - can be set
                                               ##  - doesn't work on hidden objects
DOCUMENT.elementFromPoint(DOUBLE,DOUBLE2)->ELEM #innermost ELEM with boundingClientRect containing DOUBLE,DOUBLE2 point
                                                #null if out-of-bound
HTMLELEM.offsetParent                           #Is:
                                                #  - display absolute: closest Absolute parent (if none, BODY)
                                                #  - HTML|BODY or display fixed: null
                                                #  - others: BODY
                                                #Readonly
JQ.offsetParent()->JQ2                         ##Same except BODY|null -> HTML
HTMLELEM.offsetTop|Left                         #Shift from HTMLELEM border to HTMLELEM.offsetParent padding.
                                                #Readonly
JQ.position([OBJ2])->OBJ                       ##Same except:
                                               ##  - OBJ only: left|top
                                               ##  - can be set
                                               ##  - doesn't work on hidden objects
                                               ##  - does not use ELEM.offsetParent but union of border boxes of JQ.offsetParent()'s children
                                               ##OBJ2 (jQuery UI):
                                               ##  - of SELECTOR|MOUSEEVENT
                                               ##  - my|at POSITION (def: center): put JQ's MY at same place as OF's AT
                                               ##  - within (def: WINDOW)
                                               ##  - collision STR: if positionned outside of WITHIN, continue progression from:
                                               ##     - "none": same side
                                               ##     - "flip" (def): opposite side once
                                               ##     - "flipfit": opposite back and forth
                                               ##     - "fit": stop
                                               ##  - using(MY.offset(), OBJ3): does not do any positioning (let this function do it):
                                               ##      - OBJ3:
                                               ##        - element|target (MY|AT): left|top, width|height, element JQ
                                               ##        - horizontal|vertical DIRECTION: according to MY
                                               ##        - important 'horizontal|vertical'
                                               ##      - this is ELEM


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           SCROLLING           :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


JQ.scrollParent()->JQ2                         ##Parent JQ will scroll into (jQuery UI)

WINDOW.pageX|YOffset                            #Top-level scrolling
ELEM.scrollTop|Left                             #Pixels having being scrolled
                                                #scrollLeft can be negative if dir="rtl". 
                                                #Block-level only. Readonly.
JQ.scrollLeft|Top()->NUM                       ##ELEM.scrollLeft|Top or WINDOW.pageX|YOffset

WINDOW.scroll[To](UINT, UINT2)                  #In pixels, absolute.
WINDOW.scrollBy(UINT, UINT2)                    #In pixels, relative.
HTMLELEM.scrollIntoView([BOOL])                 #Scroll to put ELEM's top (or bottom if BOOL false) on viewport's top



              
   BROWSING   
              



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           LOCATION            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


WINDOW.location                                 #LOCATION

LOCATION.href                                   #
DOCUMENT.URL                                    #Same but readonly
LOCATION.toString()                             #Returns LOCATION.href

LOCATION.protocol                               #
LOCATION.hostname                               #Can only be set to a superdomain.
DOCUMENT.domain                                 #Same but readonly
LOCATION.port                                   #
LOCATION.host                                   #
LOCATION.origin                                 #protocol + host
LOCATION.pathname                               #
LOCATION.search                                 #
LOCATION.hash                                   #Same as A et AREA.

LOCATION.assign(STR)                            #Navigate to URL STR.
LOCATION.replace(STR)                           #Same but don't save current page in history.
LOCATION.reload(BOOL)                           #Reload current page. If true, cache can't be used.


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:            HISTORY            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


DOCUMENT.referrer                               #Previous page's URL, or '' if none.

WINDOW.history                                  #Browser HISTORY

HISTORY.length                                  #
HISTORY.go(NUM)                                 #Navigates
HISTORY.back|forward()                          #Same as go(1|-1)
HISTORY.pushState(STATE, 'TITLE'[, 'URL'])      #Adds an history entry, and goes to it.
                                                #Must be handled server-side too.
HISTORY.replaceState(...)                       #Removes current history entry, then do HISTORY.pushState(...)
HISTORY.state                                   #STATE

WINDOW.onpopstate = FUNC(POPSTATEVENT)          #Triggered by:
                                                #  - user using browser history (e.g. Back|Forward buttons or shortcuts)
                                                #  - HISTORY.go|back|forward()
                                                #Providing the later history entry was created by HISTORY.pushState|replaceState()
                                                #Not triggered by HISTORY.pushState|replaceState() itself.
PopStateEvent                                   #EVENT child
POPSTATEVENT.state                              #STATE|null

WINDOW.onhashchange = FUNC(HASHCHANGEEVENT)     #On LOCATION.hash change.
HashChangeEvent                                 #EVENT child
HASHCHANGEEVENT.old|newURL                      #



                    
   BROWSER/DEVICE   
                    



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           PLATFORM            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


WINDOW.navigator                                #NAVIGATOR
NAVIGATOR.userAgent                             #Browser type|version. Not readonly.
                                                #Prefer feature detection to user agent.
NAVIGATOR.platform                              #OS and CPU, e.g. "Linux x86_64". Not readonly.

SCREEN.colorDepth                               #Should always be 24, i.e. 8/channel with RGB. 
SCREEN.pixelDepth                               #Same as colorDepth


NAVIGATOR.mimeTypes                             #MIMETYPEARR (HTMLCOLLECTION-like of MIMETYPE)
                                                #Mime types recognized for <object>, e.g. Flash and PDF
MIMETYPE.type                                   #'MIME/TYPE'
MIMETYPE.suffixes                               #'EXT'
MIMETYPE.description                            #STR
MIMETYPE.enabledPlugin                          #PLUGIN

NAVIGATOR.plugins                               #PLUGINARRAY (HTMLCOLLECTION-like of PLUGIN with extra methods)
                                                #Plugins allowing using mime types for <object>
PLUGINARRAY.refresh()                           #
PLUGIN.name                                     #STR
PLUGIN.description                              #STR
PLUGIN.filename                                 #STR
PLUGIN[NUM]                                     #MIMETYPE
PLUGIN.length                                   #Of MIMETYPE

NAVIGATOR.javaEnabled()->BOOL                   #

WINDOW|NAVIGATOR.doNotTrack                     #HTTP header DNT, as STR|null (see HTTP doc)
                                                #Try both WINDOW or NAVIGATOR for cross-browser compatibility


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:          GEOLOCATION          :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


NAVIGATOR.geolocation                           #GEOLOCATION. Asks for user confirmation

GEOLOCATION.getCurrentPosition
(FUNC(POS), FUNC2(POS_ERR), POS_OPTS)           #
GEOLOCATION.watchPosition(...)->UINT            #Like GEOLOCATION.getCurrentPosition(...) but fired each time POS changes
GEOLOCATION.clearWatch(UINT)                    #

POS.coords.latitude|longitude                   #DOUBLE
POS.coords.accuracy                             #NUM (meters)
POS.coords.altitude[Accuracy]                   #null in many devices
POS.coords.heading                              #DOUBLE indicating direction angle:
                                                #  - 0 (north), 90 (east), etc.
                                                #  - null if no device sensor
                                                #  - NaN if POS.coords.speed 0
POS.coords.speed                                #DOUBLE (m/s). 
                                                #null if no device sensor.
POS.timestamp                                   #DATE_NUM

POS_ERR.code                                    #NUM:
                                                #  - 1: permission denied 
                                                #  - 2: position unavailable 
                                                #  - 3: timeout
POS_ERR.message                                 #STR

POS_OPTS.enableHighAccuracy                     #BOOL. If true, maybe higher accuracy, but more power consumption (def: false)
POS_OPTS.timeout                                #NUM (def: Infinity)
POS_OPTS.maximumAge                             #NUM for cache (in ms, 0 for none) (def: Infinity)


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:      ORIENTATION/MOTION       :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


DESKTOP SUPPORT ==>                             #Only Chrome/Firefox. Supported on mobile browsers.

WINDOW.ondeviceorientation = 
FUNC(DEVICEORIENTATIONEVENT)                    #When device orientation changes
DEVICEORIENTATIONEVENT.beta|gamma|alpha         #x|y|z axis angle DOUBLE (0-360)
DEVICEORIENTATIONEVENT.absolute                 #BOOL: whether angle is Earth-related or arbritrary

WINDOW.ondevicemotion = FUNC(DEVICEMOTIONEVENT) #When device moves
DEVICEMOTIONEVENT.acceleration[IncludingGravity]#DEVICEACCELERATION
                                                #Usually should not use 'IncludingGravity'
DEVICEACCELERATION.x|y|z                        #x|y|z axis move in DOUBLE m/s
DEVICEMOTIONEVENT.rotationRate                  #DEVICEROTATIONRATE
DEVICEROTATIONRATE.beta|gamma|alpha             #x|y|z axis angle DOUBLE (0-360)
DEVICEMOTIONEVENT.interval                      #Timeframe of the sample in NUM ms



                
   NETWORKING   
                



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:            OFFLINE            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


NAVIGATOR.onLine                                #BOOL. Is the browser connected to network.
                                                #Updated each time a network request is made.
                                                #Some browsers return true even if only connected to local network.
WINDOW|WORKERGLOBAL.
onoffline|online = FUNC(EVENT)                  #When NAVIGATOR.onLine changed


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:         HTTP HEADERS          :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


DOCUMENT.lastModified                           #Returns Last-Modified [S] as 'DATE'
                                                #If not set, current date.

DOCUMENT.cookie                                 #Get|set Set-Cookie [S]
                                                #Get all 'VAR=VAL;VAR=VAL...' but only set a single 'VAR=VAL[;SVAR=SVAL]...'
                                                #Should use en|decodeURIComponent(VAL)
                                                #Setting on Chrome when using file:/// does not work.
NAVIGATOR.cookieEnabled                         #BOOL. Readonly.


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:              XHR              :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


XmlHttpRequest                                  #HTTP request|response
new XmlHttpRequest()                            #

XHR.open                                        #Specify the request:
(METHOD, URL[, BOOL[, USERNAME[, PASSWORD]]])   #  - BOOL: if true (def), async
XHR.setRequestHeader('VAR', 'VAL')              #Adds HTTP header
                                                #Cannot be set via XHR:
                                                #  - Underlying HTTP protocol:
                                                #     - Host [C]
                                                #     - Connection [C]
                                                #     - Keep-Alive [C]
                                                #     - Expect [C]
                                                #     - Upgrade [C]
                                                #  - Request integrity:
                                                #     - Origin [C]
                                                #     - Via [C]
                                                #     - Date [C]
                                                #     - User-Agent [C]
                                                #     - Content-Length [C]
                                                #     - Transfer-Encoding [C]
                                                #     - TE [C]
                                                #     - Trailer [C]
                                                #  - Browser capability:
                                                #     - Accept-Charset [C]
                                                #     - Accept-Encoding [C]
                                                #  - Security/privacy:
                                                #     - Cookie [C]
                                                #     - Referer [C]
                                                #     - Access-Control-Request-Headers|Method [C]
                                                #     - DNT [C]
                                                #Some headers are set by def, usually same as normal page load request, e.g. for Chrome:
                                                #  - Host [C], Referer [C]
                                                #  - User-Agent [C]
                                                #  - Connection: keepalive [C]
                                                #  - Cookie [C]
                                                #  - Content-Length [C]
                                                #  - Cache-Control: no-cache [C]
                                                #  - Accept [C], Accept-Encoding [C], Accept-Language [C]
XHR.responseType                                #Modifies how XHR.response is interpreted:
                                                #  - 'text' or '' (def): STR
                                                #  - 'arraybuffer': ARRBUFFER
                                                #  - 'blob': BLOB
                                                #  - 'document': DOCUMENT
                                                #  - 'json': OBJ
XHR.overrideMimeType('MIME/TYPE')               #Overrides Content-Type [S]
XHR.withCredentials                             #If true (def: false), send credentials (cookies and HTTP authentication data) with the request.

XHR.send([REQ_BODY])                            #Sends the request.
                                                #REQ_BODY (only if 'POST|PUT|DELETE|etc.'):
                                                #  - STR: 
                                                #     - body is STR as is
                                                #     - default Content-Type: "text/plain[;charset=CHARSET]" [C]
                                                #     - to use Content-Type: "application/x-www-form-urlencoded" [C] with 'VAR=VAL&...', must manually:
                                                #        - use encodeURIComponent()
                                                #        - set Content-Type
                                                #  - DOCUMENT:
                                                #     - body is DOCUMENT as STR
                                                #     - default Content-Type: "application/xml[;charset=CHARSET]" [C]
                                                #  - BLOB|ARRBUFFERVIEW:
                                                #     - body is binary as is
                                                #     - no default Content-Type [C]
                                                #  - FORMDATA:
                                                #     - body as "multipart/form-data" content (see HTML doc)
                                                #        - filename is "blob" for anonymous BLOB, real filename otherwise, and not set for STR
                                                #     - default Content-Type: "multipart/form-data;boundary=BOUNDARY" [C]
XHR.abort()                                     #Emit event

new FormData([FORM])                            #
FORMDATA.append('VAR', STR|BLOB)                #

XHR.onreadystatechange = FUNC(EVENT)            #When XHR.readyState changes
XHR.readyState                                  #Can be:
                                                #  - XHR.UNSENT: uninitialized
                                                #  - XHR.OPENED: open()
                                                #  - XHR.HEADER_RECEIVED: send() and response header received
                                                #  - XHR.LOADING: downloading response body
                                                #  - XHR.DONE: downloaded response body

XHR.onloadstart = FUNC(PROGRESSEVENT)           #When starts reading
XHR.onprogress = FUNC(PROGRESSEVENT)            #When is reading
XHR.onload[end] = FUNC(PROGRESSEVENT)           #When finishes. load is success, loadend is success or failure.
XHR.onabort = FUNC(PROGRESSEVENT)               #
XHR.onerror = FUNC(PROGRESSEVENT)               #

XHR.upload.on*                                  #Like XHR.on*:
                                                #  - except readystatechange
                                                #  - only fired if REQ_BODY with proper HTTP method

XHR.timeout                                     #In ms (def: 0, i.e. unlim)
XHR.ontimeout = FUNC(PROGRESSEVENT)             #

PROGRESSEVENT.lengthComputable                  #true if PROGRESSEVENT.loaded|total available
PROGRESSEVENT.loaded|total                      #Number of bytes

XHR.status[Text]                                #HTTP response status code as NUM|STR
XHR.response                                    #Server response as STR|ARRBUFFER|BLOB|DOCUMENT|OBJ, depending on XHR.responseType
XHR.responseText                                #Server response as STR
XHR.getResponseHeader('VAR')->'VAL'             #
XHR.getAllResponseHeaders()->OBJ                #


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           WEBSOCKET           :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


WebSocket                                       #
new WebSocket('URL'[, STR[_ARR]])               #Opens websocket (see HTTP doc)
                                                #STR[_ARR] are requested subprotocols.
                                                #Throws SECURITY_ERR if port blocked.
WEBSOCKET.send(STR|BLOB|ARRBUFFER)              #Can throw: 
                                                #  - INVALID_STATE_ERR: connection not opened 
                                                #  - SYNTAX_ERR: invalid data sent
WEBSOCKET.onopen = FUNC(EVENT)                  #
WEBSOCKET.onmessage = FUNC(MESSAGEEVENT)        #
WEBSOCKET.binaryType                            #MESSAGEEVENT.data type: 'blob' (def) or 'arraybuffer'

WEBSOCKET.url                                   #'URL'
WEBSOCKET.protocol                              #Subprotocol STR returned by server.
WEBSOCKET.extensions                            #Extensions STR, changed by server.
WEBSOCKET.bufferedAmount                        #Number of bytes sent buffered.

WEBSOCKET.readyState                            #Any of WebSocket.CONNECTING|OPEN|CLOSING|CLOSED

WEBSOCKET.close(UINT, STR)                      #UINT is error code (1000 or 3000-4999)
                                                #STR error message.
                                                #Should make sure bufferedAmount is 0 before.
                                                #Can throw:
                                                #  - INVALID_ACCESS_ERR: invalid UINT
                                                #  - SYNTAX_ERR: invalid STR
WEBSOCKET.onclose = FUNC(CLOSEEVENT)            #
CLOSEEVENT.wasClean                             #True if cleanly closed.
CLOSEEVENT.code                                 #UINT
CLOSEEVENT.reason                               #STR

WEBSOCKET.onerror = FUNC(ERROREVENT)            #
ERROREVENT.message                              #STR
ERROREVENT.filename                             #STR
ERROREVENT.lineno                               #NUM
ERROREVENT.colno                                #NUM
ERROREVENT.error                                #ERROR



             
   STORAGE   
             



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:             FILES             :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


Blob                                            #Similar to ARRBUFFER but kept as temp file, not in memory.
                                                #Can see debug info at about:blobs (Chrome)
new Blob(ARRBUFFER_ARR|DATAVIEW_ARR|            #ARR will be concatenated.
TYPED_ARR_ARR|BLOB_ARR|STR_ARR[, OBJ])          #OBJ: type 'MIME'
                                                #Max size: around 500MB
                                               ##Ext: webkit
BLOB.size                                       #
BLOB.type                                       #'MIME'
BLOB.slice(ULONG[, ULONG2[, 'MIME']])->BLOB2    #From byte ULONG to byte ULONG2 (def: end)

URL.createObjectURL(BLOB)->'URL'                #'URL' is an 'object URL':
                                                #  - manipulated like a data URI, but only contains name not data
                                                #  - invalid after tab closed
                                                #Can be used by other WINDOW.
                                               ##Ext: webkit
URL.revokeObjectURL('URL')                      #

FileList                                        #FILE_ARR (array-like)
File                                            #BLOB child
                                                #Obtained usually through INPUT|DATATRANSFER.files
FILE.name                                       #Filename


new FileReader()                                #
FILEREADER.readAsText(BLOB[, 'ENCODING'])       #Starts reading. FILEREADER.result will be STR
                                                #Def 'ENCODING': 'UTF-8'
FILEREADER.readAsArrayBuffer(BLOB)              #Same but result will be ARRBUFFER
FILEREADER.readAsDataURL(BLOB)                  #Same but result will be data URI
FILEREADER.result                               #VAL, or null (error or not read yet)
FILEREADER.readyState                           #Can be :
                                                #  - FileReader.EMPTY: before read
                                                #  - FileReader.LOADING : read in progress
                                                #  - FileReader.NONE : read complete|error|abort
FILEREADER.abort()                              #
FILEREADER.error                                #DOMERROR with name "NotFoundError|SecurityError|NotReadableError"

FILEREADER.onloadstart = FUNC(PROGRESSEVENT)    #
FILEREADER.onprogress = FUNC(PROGRESSEVENT)     #
FILEREADER.onload[end] = FUNC(PROGRESSEVENT)    #
FILEREADER.onabort = FUNC(PROGRESSEVENT)        #
FILEREADER.onerror = FUNC(PROGRESSEVENT)        #Cf XHR

FileReaderSync                                  #Same as as FileReader but:
                                                #  - sync: returns VAL instead of firing events, so only read*()
                                                #  - only available inside WORKER



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:          WEB STORAGE          :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


WINDOW.localStorage                             #Persistent OBJ per domain.
                                                #Private browsing creates new STORAGE temp.
                                                #Cleaned when cleaning cookies.
WINDOW.sessionStorage                           #Same but cleaned when tab is closed.

STORAGE.length                                  #
STORAGE.key(UINT)->'VAR'                        #
STORAGE.getItem('VAR')->'VAL'                   #
STORAGE.setItem('VAR', 'VAL')                   #
STORAGE.removeItem('VAR')                       #
STORAGE.clear()                                 #


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:        STORAGE SUMMARY        :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


DIFFERENT STORAGE ==>                           #All storage : can be erased through private data erasing GUI for normal 
                                                #websites/hosted apps, but not for extensions/packaged apps.

                            +------------------+-----------------------+--------------------+--------------------------------+
                            | Avail.           | Limit                 | Model              | Other                          |
  +-------------------------+------------------+-----------------------+--------------------+--------------------------------+
  | cookies                 | All              | 4KB/cookie, 50/domain | Flat. As STR.      | Communicated to server         |
  +-------------------------+------------------+-----------------------+--------------------+--------------------------------+
  | localStorage            | All              | 2-10MB/domain         | Flat. As STR.      | Not async.                     |
  +-------------------------+------------------+-----------------------+--------------------+--------------------------------+
  | XHR                     | All              | None                  | None               | Slower. Persisted on server.   |
  |                         |                  |                       |                    | Requires network.              |
  +-------------------------+------------------+-----------------------+--------------------+--------------------------------+
  | chrome.storage          | Chrome apps/exts | Unlim (permissions)   | Flat. As OBJ.      | Can be used by content scripts |
  |                         |                  |                       |                    | Can Cloud sync.                |
  |                         |                  |                       |                    | Storage event.                 |
  +-------------------------+------------------+-----------------------+--------------------+--------------------------------+
  | indexedDB               | Not Safari       | Unlim (permissions)   | Database           |                                |
  +-------------------------+------------------+-----------------------+--------------------+--------------------------------+
  | chrome.downloads        | Chrome exts      | Unlim (only download) | Real filesystem    | Filechooser popup or not       |
  +-------------------------+------------------+-----------------------+--------------------+--------------------------------+
  | chrome.[sync]filesystem | Chrome apps      | Unlim (permissions)   | Real filesystem    | Use fileSystem API.            |
  |                         |                  |                       |                    | Can sync with Google Drive.    |
  +-------------------------+------------------+-----------------------+--------------------+--------------------------------+


DEBUGGING ==>                                   #about:quota-internals (Chrome)



                       
   MESSAGING/WORKERS   
                       



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           MESSAGING           :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


SUMMARY ==>                                     #Comparison:
                                                #  - onstorage: any tab, same domain. Transfer STR. Broadcasts.
                                                #  - postMessage(): same tab, any domain. Transfer much more types. Broadcasts.
                                                #    Works with WORKER
                                                #  - MessageChannel: like postMessage() but does not broadcast, and buffers.


WINDOW.onstorage = FUNC(STORAGEEVENT)           #Triggered when another WINDOW2 modified localStorage|sessionStorage:
                                                #  - WINDOW2: an IFRAME|popup|parent on same tab or another tab.
                                                #    Has to be same domain.
                                                #  - Only triggered if value changed.
STORAGEEVENT.key                                #'VAR'
STORAGEEVENT.new|oldValue                       #'VAL'
STORAGEEVENT.storageArea                        #STORAGE
STORAGEEVENT.url                                #WINDOW2.URL


WINDOW2.postMessage                             #WINDOW2 protocol+host must match second argument:
(VAL, 'PROTOCOL://HOST|*', VAL2_ARR)            #  - WINDOW2: an IFRAME|WORKERS|popup|parent on same tab, but not on different tab
                                                #    Does not have to be same domain.
                                                #  - VAL can be BOOL|STR|NUM|ARR|PLAIN_OBJ|MAP|SET|DATE|REGEXP|BLOB|FILE[LIST]|
                                                #    ARRBUFFER[VIEW]|IMAGEDATA,but not ERROR|FUNC
                                                #VAL2 can be:
                                                #  - ARRBUFFER[VIEW]: to use if VAL is ARRBUFFER[VIEW] (to transfer ownership)
                                                #  - MESSAGEPORT: will be available in MESSAGEEVENT.ports 
WINDOW2.onmessage = FUNC(MESSAGEEVENT)          #
MESSAGEEVENT.data                               #VAL
MESSAGEEVENT.origin                             #PROTOCOL://HOST|*
                                                #Should be checked to prevent XSS and CSRF
MESSAGEEVENT.source                             #WINDOW having called postMessage()
MESSAGEEVENT.ports                              #MESSAGEPORT_ARR


WORKER|DWORKERGLOBAL.postMessage(VAL, VAL2_ARR) #
WORKER|DWORKERGLOBAL.onmessage = FUNC(MESGEVENT)#Like WINDOW.postMessage() but between WORKER and its parent


new MessageChannel()                            #Like WINDOW.postMessage() but:
                                                #  - using dedicated channel instead of broadcasting to any listener on a given domain.
                                                #  - messages are buffered until listener setup
MESSAGECHANNEL.port1|2                          #MESSAGEPORT
MESSAGEPORT.postMessage(VAL, VAL2_ARR)          #Sent to the other MESSAGEPORT message event handler
                                                #See WINDOW.postMessage()
MESSAGEPORT.onmessage = FUNC(MESSAGEEVENT)      #
MESSAGEPORT.start|close()                       #Starts|stops using message event handler
                                                #Cannot be restarted after closed.



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:            WORKERS            :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


ABSTRACTWORKER                                  #Base class for WORKER
Worker                                          #Child of ABSTRACTWORKER. Thread
WorkerGlobalScope                               #WORKERGLOBAL: global scope in a script launched as a WORKER
                                                #Most global objects can be used, but not:
                                                #  - DOM manipulation
DedicatedWorkerGlobalScope                      #DWORKERGLOBAL, child of WORKERGLOBAL


new Worker('SCRIPT_URL')                        #Same origin policy
WORKERGLOBAL.importScripts('SCRIPT_URL'...)     #Load other scripts

WORKER.terminate()                              #
WORKERGLOBAL.close()                            #
ABSTRACTWORKER|WORKERGLOBAL.onerror 
= FUNC(ERROREVENT)                              #Fired on runtime exception (but not on other exceptions, e.g. throwing an ERROR)

WORKERGLOBAL|WINDOW.self                        #Returns WORKERGLOBAL|WINDOW
                                                #Goal is to refer to global scope whether in a worker or not
WORKERGLOBAL.navigator                          #WORKERNAVIGATOR, like NAVIGATOR with only: language, onLine, platform, userAgent
WORKERGLOBAL.location                           #WORKERLOCATION, like LOCATION without: username, password, assign(), reload(), replace()
WORKERGLOBAL.atob|btoa()                        #
WORKERGLOBAL.clear|setTimeout|Interval()        #Like WINDOW



                   
   UI COMPONENTS   
                   



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:             POPUP             :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


WINDOW.open('URL', 'NAME'[,'FEAT=VAL,...'])     #Opens new tab, providing user removed popup blocker.
->WINDOW2                                       #'URL':
                                                #  - if '', blank page
                                                #  - while page is loading, WINDOW2 will be blank page.
                                                #NAME:
                                                #  - is WINDOW2.name
                                                #  - if existing, replace content of that one
                                                #FEAT:
                                                #  - dialog|modal yes|no (def: no): popup instead of new tab
WINDOW2.opener                                  #WINDOW|null: if WINDOW.open()
WINDOW2.close()                                 #Close WINDOW2 opened with WINDOW.open()

WINDOW2.moveBy|To(NUM, NUM2)                    #Move WINDOW2 opened with WINDOW.open() (relative|absolute to screen)
WINDOW2.resizeBy|To(NUM, NUM2)                  #Same for size


WINDOW.alert(STR)                               #Opens popup with OK button.
WINDOW.confirm(STR)->BOOL                       #Same with OK and Cancel buttons. Return true if OK.
WINDOW.prompt(STR[, 'PLACEHOLDER'])->STR2|null  #Same but asks for user input.

WINDOW.print()                                  #Opens print dialog



                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:           DRAG&DROP           :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


MOBILE SUPPORT ==>                              #Drag&drop is not available on mobile

<any>
  draggable="true|false|"                       #Changes possibility to drag (user interaction + events):
                                                #  - "true" (def on links, images, selection)
                                                #  - "false"
                                                #  - "" (def otherwise): inherit

DragEvent                                       #MOUSEEVENT child
                                                #During a drag, keyboard and other mouse events are neutralized.
                                                #Drag and drop sources can also come from other applications.
DRAGEVENT.dataTransfer                          #DATATRANSFER

ELEM|DOCUMENT.ondragstart = FUNC(DRAGEVENT)     #When source starts being dragged
                                                #Should do DATATRANSFER.setData()
                                                #Can set DATATRANSFER.effectAllowed
ELEM|DOCUMENT.ondragend = FUNC(DRAGEVENT)       #When source stops being dragged (success or not)
                                                #Can check if operation was successful with DATATRANSFER.dropEffect
ELEM|DOCUMENT.ondrag = FUNC(DRAGEVENT)          #When source moves

ELEM|DOCUMENT.ondragenter|leave = FUNC(DRAGEVNT)#When target starts|ends being hovered
                                                #Should call DRAGEVENT.stopPropagation() + preventDefault()
ELEM|DOCUMENT.ondragover = FUNC(DRAGEVENT)      #When target is being hovered and source moves
                                                #Should call DRAGEVENT.stopPropagation() + preventDefault()
ELEM|DOCUMENT.ondrop = FUNC(DRAGEVENT)          #When target is being dropped on
                                                #Should do DATATRANSFER.getData()
                                                #Should call DRAGEVENT.stopPropagation() + preventDefault()

DATATRANSFER.setData('MIME', 'VAL')             #To do during dragstart.
                                                #Can set several types:
                                                #  - the most specific should be preferred on getData()
                                                #  - should include 'text/plain' as a fallback
                                                #Usual 'MIME':
                                                #  - "text/plain": 
                                                #     - default for links and selection
                                                #  - "text/uri-list": 
                                                #     - default for images
                                                #     - URLs, newline-separated. 
                                                #     - can have comments starting with #
                                                #     - will also define "URL" MIME with only the first URL
                                                #  - "text/html"
                                                #  - "Files": FILELIST
DATATRANSFER.getData('MIME')->'VAL'             #
DATATRANSFER.clearData(['MIME'])                #
DATATRANSFER.types                              #'MIME'_ARR
DATATRANSFER.files                              #Same as DATATRANSFER.getData('Files')

DATATRANSFER.effectAllowed                      #To do during dragstart. 
                                                #Restrict possible dropEffect:
                                                #  - 'copy|move|link|none'
                                                #  - 'copyLink|copyMove|linkMove|all': combination
                                                #  - 'uninitialized': like 'all'
                                                #If unallowed, drop will not be performed.
DATATRANSFER.dropEffect                         #Can be read on dragend (not drop)
                                                #Can be set on dragover|dragenter, but also default are chosen according to modifier:
                                                #  - 'copy' (def with shift)
                                                #  - 'move' (def with no modifier key)
                                                #  - 'link' (def with shift+ctrl)
                                                #  - 'none'


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:              RTF              :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


DOCUMENT.designMode                             #If 'on' (def: 'off'), disable events and allow execCommand()
DOCUMENT.execCommand                            #Fire RTF (MIDAS) COMMAND on current selection
('COMMAND'[, false, 'ARG'])->BOOL               #Returns false if failed.
                                                #Available COMMAND ARG:
                                                #  - back|forecolor "#ffffff"
                                                #  - hilitecolor "#ffffff": only if styleWithCSS
                                                #  - bold|italic|strikethrough|underline
                                                #  - paste
                                                #  - createlink "URL" | unlink
                                                #  - de|increasefontsize
                                                #  - delete
                                                #  - fontname "FONT"
                                                #  - fontsize "NUM"
                                                #  - heading "H*"
                                                #  - out|indent
                                                #  - inserthorizontalrule : replace by <hr>
                                                #  - inserthtml STR : replace by HTMLDOCUMENT code STR
                                                #  - insertimage STR
                                                #  - insert[un]ordererdlist
                                                #  - insertparagraph
                                                #  - justifycenter|full|left|right
                                                #  - undo|redo
                                                #  - removeformat
                                                #  - selectall
                                                #  - sub|superscript
                                                #  - styleWithCSS : change format with CSS, not HTMLDOCUMENT
                                                #  - contentReadOnly : all document becomes readonly
                                                #Browsers implement differently: use tags (e.g. <b>) or CSS (e.g. <... style="...">)
DOCUMENT.queryCommandSupported('COMMAND')->BOOL #Browser can do it
DOCUMENT.queryCommandEnabled('COMMAND')->BOOL   #Browser allows to do it
DOCUMENT.queryCommandIndeterm('COMMAND')->BOOL  #Current selection: if style partially applied to children
DOCUMENT.queryCommandState('COMMAND')->BOOL     #Current selection: If style applied or not
DOCUMENT.queryCommandValue('COMMAND')->'ARG'    #Current selection


                                             /=+===============================+=\ 
                                            /  :                               :  \  
                                            )==:         NOT SUPPORTED         :==(   
                                            \  :_______________________________:  /    
                                             \=+===============================+=/


NOT SUPPORTED ==>                               #IE11<=:
                                                #  - Workers:
                                                #     - Service Workers API             (description: workers shared-loaded across a domain/directory or reacting to events in the browser's background. 
                                                #                                                     Can intercept HTTP requests.)
                                                #        - including about:inspect#service-workers, about:serviceworkers-internals (Chrome only), about:serviceworkers (Firefox)
                                                #     - Shared Workers                  (description: worker that can be shared/accessed across tabs|iframes)
                                                #        - including about:inspect#workers (Chrome only)
                                                #  - Realtime:
                                                #     - Server Sents events API         (description: server unidirectional push, using a plain text stream (continously opened HTTP response))
                                                #     - Push API                        (description: server unidirectional push, using a capability URL and targetting a service worker)
                                                #  - WebComponents:
                                                #     - Custom elements                 (description: register a <tag> with lifecycle events)
                                                #     - Shadow DOM                      (description: DOM inside another DOM)
                                                #     - <template>                      (description: lazy render HTML)
                                                #     - HTML imports                    (description: <link href="*.html">)
                                                #  - XHR:
                                                #     - Fetch API                       (description: higher-level API for XHR)
                                                #     - Beacon API                      (description: XHR guarenteed to be sent even if tab closes)
                                                #  - Higher-level API:
                                                #     - Geometry interfaces module      (description: higher-level API on canvas/SVG/CSS transformations)
                                                #     - Web animations API              (description: querying/controlling/creating CSS/SVG transitions/animations in JavaScript)
                                                #     - Permissions API                 (description: request/query other APIs permissions)
                                                #  - Mobile device sensors:
                                                #     - Vibration API                   (description: vibrate device)
                                                #     - Ambient light events            (description: luminosity sensor)
                                                #     - Proximity API                   (description: proximity sensor)
                                                #     - Battery status API              (description: battery level)
                                                #  - Multimedia:
                                                #     - Media Capture and Streams API   (description: audio|video devices input, e.g. microphone and cameras)
                                                #     - Media Stream Recording API      (description: high-level API for Media Capture and Streams API)
                                                #     - Encrypted Media Extensions API  (description: encrypted <audio|video>, i.e. DRM)
                                                #     - WebRTC                          (description: video chat, VoIP, peer-to-peer file sharing)
                                                #        - including about:webrtc (Firefox), about:webrtc-logs|internals (Chrome)
                                                #        - including RFCs
                                                #     - Web MIDI API                    (description: MIDI devices|instruments input|output)
                                                #     - Web audio API                   (description: audio manipulation)
                                                #     - Web speech API                  (description: text-to-speech, speech-to-text)
                                                #  - Gaming:
                                                #     - Gamepad API                     (description: gamepads/controllers input)
                                                #     - Pointer Lock API                (description: FPS-like mouse capture, i.e. no icon, can go beyond document boundaries, gets movements deltas 
                                                #                                                     not absolute position)
                                                #  - Security/privacy:
                                                #     - Secure contexts                 (description: check if file|https://. Used by other APIs)
                                                #     - Referrer policy                 (description: control over Referred [C])
                                                #     - Subresource integrity           (description: checksum on <link|script> content)
                                                #     - Fido U2F                        (description: 2-factor authentication protocol)
                                                #  - Broadcast Channel API              (description: broadcast postMessage())
                                                #  - Brotli compression                 (description: better HTTP compression algorithm than deflate)
                                                #  - Clipboard API                      (description: copy|cut|paste events)
                                                #  - CSP 1.1                            (description: control CSP in HTML/JavaScript)
                                                #  - Custom Scroll Restoration          (description: how scrolling is restablished with history back|forward)
                                                #  - Encoding API                       (description: encode|decode from different charsets)
                                                #  - IndexedDB                          (description: like localStorage, but faster, async and more structured)
                                                #     - including about:indexeddb-internals (Chrome only)
                                                #  - MathML                             (description: like LaTeX but for maths and using HTML <tag>)
                                                #  - Network Information API            (description: connection type (wifi, cellular, ethernet) and speed)
                                                #  - Notification API                   (description: notifications outside browser)
                                                #  - Streams API                        (description: like Node.js streams)
                                                #  - WebVR API                          (description: virtual reality devices)
                                                #  - Web cryptography API               (description: crypto: symmetric, asymmetric, hashes, PRNG)
                                                #  - Webmentions                        (description: get HTTP requests when another website links to current site)
                                                #  - Client hints                       (description: client HTTP headers indicating screen size/ratio, network speed, etc.)
                                                #  - Credential management API
                                                #  - Server-sent events                 (description: like WebSockets but for HTTP)
                                                #  - Device Orientation/Motion API:
                                                #     - WINDOW: oncompassneedscalibration = FUNC(EVENT), ondeviceorientationabsolute = FUNC(EVENT)
                                                #  - Console API:
                                                #     - CONSOLE: table(), timeStamp(), info|log|warn|error() (%o, %c)
                                                #  - File API:
                                                #     - FILE: new
                                                #  - Selection API:
                                                #     - SELECTION: extend(), containsNode()
                                                #     - INPUT|TEXTAREA: onselectionchange = FUNC(EVENT)
                                                #  - URL API:
                                                #     - URL: href, protocol, host, hostname, port, pathname, search, hash, username, password, origin, searchParams, toString(), new
                                                #  - XHR:
                                                #     - FORMDATA: delete(), entries|keys|values(), get[All](), has(), set()
                                                #  - Selectors API level 2:
                                                #     - DOCUMENTFRAG: find[All](), getElementById()
                                                #     - ELEM: find[All](), matches(),
                                                #  - CSSOM:
                                                #     - DOCUMENT: scrollingElement, caretPositionFromPoint(), elementsFromPoint()
                                                #     - ELEM: scrollIntoView(OBJ)
                                                #     - WINDOW: scrollX|Y
                                                #  - WHATWG HTML:
                                                #     - WINDOW|WORKERGLOBAL: onlanguagechange = FUNC(EVENT)
                                                #     - CONTENTEDITABLE: oninput
                                                #     - DATATRANSFER: items, DATATRANSFERITEM[LIST], setDragImage()
                                                #     - DOCUMENT|ELEM: ondragexit = FUNC(DRAGEVENT)
                                                #     - LOCATION: username, password
                                                #     - NAVIGATOR: registerContent|ProtocolHandler(), languages
                                                #     - WINDOW: locationbar|menubar|personalbar|scrollbars|statusbar|toolbar, stop()
                                                #  - WHATWG DOM:
                                                #     - CHILDNODE
                                                #     - CUSTOMEVENT
                                                #     - DOCUMENTFRAG: new
                                                #     - ELEM: closest()
                                                #     - EVENT: new
                                                #     - NODEITERATOR: [pointerBefore]referenceNode
                                                #     - NONDOCUMENTTYPECHILDNODE: inherited by CHARDATA
                                                #     - PARENTNODE: append(), prepend(), inherited by DOCUMENT[FRAGMENT], SVG
                                                #     - PARENTNODE (instead of HTMLELEM): children
                                                #     - RANGE: new, comparePoint(), intersectsNode(), isPointInRange()
                                                #     - TEXT: new
                                                #  - DOM2:
                                                #     - ELEM (instead of HTMLELEM): classList, className, id, innerHTML, outerHTML, getElementsByClassName(), insertAdjacentHTML(), scrollIntoView()
                                                #     - NODE (instead of HTMLELEM): contains()
                                                #     - NODEFILTER: acceptsNode()
                                                #  - DOM3:
                                                #     - DOCUMENT: documentURI
                                                #  - DOM3 events:
                                                #     - EVENT: isTrusted
                                                #     - INPUTEVENT
                                                #     - KEYBOARDEVENT: isComposing
                                                #  - DOM4:
                                                #     - NODE (instead of HTMLELEM): parentElement

- NODELIST: forEach()
                                                #Safari 8<=:
                                                #  - HTML editing API:
                                                #     - DOCUMENT: execCommand() (copy|cut|insertBrOnReturn)
                                                #  - File API:
                                                #     - FILE: lastModifiedDate
                                                #  - WHATWG HTML:
                                                #     - INPUT: onchange (type "checkbox|radio|file")
                                                #     - WINDOW: onbefore|afterprint = FUNC(EVENT), set|clearImmediate()
                                                #  - DOM3 events:
                                                #     - MOUSEEVENT: buttons
                                                #Firefox 43<=:
                                                #  - Fullscreen API                     (description: getting|setting fullscreen mode)
                                                #  - Input method editor API            (description: asian characters autocompleter handling)
                                                #  - Mobile device sensors:
                                                #     - Pointer Events API              (description: higher-level events for mouse|touch|pen)
                                                #  - File API:
                                                #     - BLOB: close(), isClosed
                                                #  - DOM3 events:
                                                #     - FOCUSEVENT|MOUSEEVENT: relatedTarget
                                                #  - CSSOM:
                                                #     - MOUSEEVENT: x|y
                                                #Android browser 4.4.4 <=:
                                                #  - WebGL (description: 3D)
                                                #Opera 34<=:
                                                #  - DOM3 events:
                                                #     - ELEM: oncomposition*
                                                #Chrome 47<=:
                                                #  - Console API:
                                                #     - CONSOLE: assert() (format strings)
                                                #  - DNT:
                                                #     - NAVIGATOR: store|remove|confirmSiteSpecific|WebSideTrackingException()
                                                #Safari Mobile 9.2<=:
                                                #  - Timing stats:
                                                #     - Navigation Timing API level 2   (description: more info than level 1)
                                                #     - Performance Timeline API        (description: higher-level API on other timing APIs)
                                                #     - ResourceTiming API              (description: network timing stats when loading resources)
                                                #     - UserTiming API                  (description: custom timing stats)
                                                #     - Frame Timing API                (description: frame refresh rate timing stats)
                                                #     - High resolution
                                                #  - Multimedia:
                                                #     - Media Source Extensions API     (description: low-level video stream manipulation)
                                                #  - Mobile devices sensors:
                                                #     - Touch Events API level 2        (description: touch pressure|rotation|radius)
                                                #     - ScreenOrientation API           (description: reading|setting portrait|landscape mode)
                                                #  - DOM3 events:
                                                #     - KEYBOARDEVENT: code|key, locale, repeat, location
                                                #     - KEYBOARDEVENT|MOUSEEVENT: getModifierState()
